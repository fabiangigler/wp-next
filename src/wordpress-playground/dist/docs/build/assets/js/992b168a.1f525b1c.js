"use strict";(self.webpackChunkdocusaurus_classic_typescript=self.webpackChunkdocusaurus_classic_typescript||[]).push([[6751,6074],{9011:(e,t,n)=>{n.d(t,{ZP:()=>p});var r=n(11),a=(n(2735),n(9530)),o=n(3355),s=n(7283);const l={toc:[]},i="wrapper";function p(e){let{components:t,...n}=e;return(0,a.kt)(i,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("div",{className:"margin-vert--sm"},!n.justButton&&(0,a.kt)(s.Z,{title:n.title,language:"json",mdxType:"CodeBlock"},n.display||JSON.stringify(n.blueprint,null,"\t")),!n.noButton&&(0,a.kt)(o.m,{blueprint:n.blueprint,mdxType:"BlueprintRunButton"})))}p.isMDXComponent=!0},776:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(2735),a=n(8349);const o={tableOfContentsInline:"tableOfContentsInline_moAP"};function s(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:s}=e;return r.createElement("div",{className:o.tableOfContentsInline},r.createElement(a.Z,{toc:t,minHeadingLevel:n,maxHeadingLevel:s,className:"table-of-contents",linkClassName:null}))}},8349:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(11),a=n(2735),o=n(7585),s=n(2555),l=n(9712);function i(e){let{toc:t,className:n,linkClassName:r,isChild:o}=e;return t.length?a.createElement("ul",{className:o?void 0:n},t.map((e=>a.createElement("li",{key:e.id},a.createElement("a",{href:`#${e.id}`,className:r??void 0,dangerouslySetInnerHTML:{__html:e.value}}),a.createElement(i,{isChild:!0,toc:e.children,className:n,linkClassName:r}))))):null}const p=a.memo(i);function u(e){let{toc:t,className:n="table-of-contents table-of-contents__left-border",linkClassName:i="table-of-contents__link",linkActiveClassName:u,minHeadingLevel:c,maxHeadingLevel:d,...m}=e;const g=(0,o.L)(),v=c??g.tableOfContents.minHeadingLevel,h=d??g.tableOfContents.maxHeadingLevel,y=(0,s.b)({toc:t,minHeadingLevel:v,maxHeadingLevel:h}),f=(0,a.useMemo)((()=>{if(i&&u)return{linkClassName:i,linkActiveClassName:u,minHeadingLevel:v,maxHeadingLevel:h}}),[i,u,v,h]);return(0,l.S)(f),a.createElement(p,(0,r.Z)({toc:y,className:n,linkClassName:i},m))}},9712:(e,t,n)=>{n.d(t,{S:()=>i});var r=n(2735),a=n(7585);function o(e){const t=e.getBoundingClientRect();return t.top===t.bottom?o(e.parentNode):t}function s(e,t){let{anchorTopOffset:n}=t;const r=e.find((e=>o(e).top>=n));if(r){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(o(r))?r:e[e.indexOf(r)-1]??null}return e[e.length-1]??null}function l(){const e=(0,r.useRef)(0),{navbar:{hideOnScroll:t}}=(0,a.L)();return(0,r.useEffect)((()=>{e.current=t?0:document.querySelector(".navbar").clientHeight}),[t]),e}function i(e){const t=(0,r.useRef)(void 0),n=l();(0,r.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:r,linkActiveClassName:a,minHeadingLevel:o,maxHeadingLevel:l}=e;function i(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(r),i=function(e){let{minHeadingLevel:t,maxHeadingLevel:n}=e;const r=[];for(let a=t;a<=n;a+=1)r.push(`h${a}.anchor`);return Array.from(document.querySelectorAll(r.join()))}({minHeadingLevel:o,maxHeadingLevel:l}),p=s(i,{anchorTopOffset:n.current}),u=e.find((e=>p&&p.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,n){n?(t.current&&t.current!==e&&t.current.classList.remove(a),e.classList.add(a),t.current=e):e.classList.remove(a)}(e,e===u)}))}return document.addEventListener("scroll",i),document.addEventListener("resize",i),i(),()=>{document.removeEventListener("scroll",i),document.removeEventListener("resize",i)}}),[e,n])}},2555:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>l});var r=n(2735);function a(e){const t=e.map((e=>({...e,parentIndex:-1,children:[]}))),n=Array(7).fill(-1);t.forEach(((e,t)=>{const r=n.slice(2,e.level);e.parentIndex=Math.max(...r),n[e.level]=t}));const r=[];return t.forEach((e=>{const{parentIndex:n,...a}=e;n>=0?t[n].children.push(a):r.push(a)})),r}function o(e){return(0,r.useMemo)((()=>a(e)),[e])}function s(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:r}=e;return t.flatMap((e=>{const t=s({toc:e.children,minHeadingLevel:n,maxHeadingLevel:r});return function(e){return e.level>=n&&e.level<=r}(e)?[{...e,children:t}]:t}))}function l(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:o}=e;return(0,r.useMemo)((()=>s({toc:a(t),minHeadingLevel:n,maxHeadingLevel:o})),[t,n,o])}},3355:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(2735);function a(e){let{blueprint:t}=e;const[n,a]=r.useState(!1);if(!t)return null;if(!n)return r.createElement("button",{className:"button button--primary",onClick:()=>{a(!0)}},"Try it out!");const o=`https://playground.wordpress.net/?mode=seamless#${btoa("string"==typeof t?t:JSON.stringify(t))}`;return r.createElement("iframe",{style:{width:"100%",height:"500px",border:"1px solid #ccc"},src:o})}},7503:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(2735);const a={React:r,...r,css:{textarea:{width:"100%",height:"8lh",display:"block"}},HTML:e=>{let{children:t}=e;return r.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}}},8088:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>h,frontMatter:()=>p,metadata:()=>c,toc:()=>m});var r=n(11),a=(n(2735),n(9530)),o=n(2620),s=n(776),l=n(9011),i=n(3154);const p={title:"APIs overview",slug:"/apis-overview"},u="APIs overview",c={unversionedId:"playground-apis/index",id:"playground-apis/index",title:"APIs overview",description:"WordPress Playground exposes a few APIs that you can use to interact with the Playground:",source:"@site/docs/06-playground-apis/01-index.md",sourceDirName:"06-playground-apis",slug:"/apis-overview",permalink:"/wordpress-playground/apis-overview",draft:!1,editUrl:"https://github.com/WordPress/wordpress-playground/tree/trunk/packages/docs/site/docs/06-playground-apis/01-index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"APIs overview",slug:"/apis-overview"},sidebar:"tutorialSidebar",previous:{title:"php-wasm/node",permalink:"/wordpress-playground/local-development/php-wasm-node"},next:{title:"Concepts",permalink:"/wordpress-playground/playground-apis/api-concepts"}},d={},m=[{value:"Query API",id:"query-api",level:2},{value:"Blueprints",id:"blueprints",level:2},{value:"JavaScript API",id:"javascript-api",level:2}],g={toc:m},v="wrapper";function h(e){let{components:t,...n}=e;return(0,a.kt)(v,(0,r.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"apis-overview"},"APIs overview"),(0,a.kt)("p",null,"WordPress Playground exposes a few APIs that you can use to interact with the Playground:"),(0,a.kt)(s.Z,{toc:m,mdxType:"TOCInline"}),(0,a.kt)("h2",{id:"query-api"},"Query API"),(0,a.kt)("p",null,"Basic operations can be done by adjusting the URL, for example here's how you can preinstall a coblocks plugin:"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/?plugin=coblocks"},"https://playground.wordpress.net/?plugin=coblocks")),(0,a.kt)("p",null,"Or a theme:"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://playground.wordpress.net/?theme=pendant"},"https://playground.wordpress.net/?theme=pendant")),(0,a.kt)(o.ZP,{mdxType:"ThisIsQueryApi"})," Once you have a URL that you like, you can embed it in your website using an iframe:",(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<iframe style="width: 800px; height: 500px;" src="https://playground.wordpress.net/?plugin=coblocks"></iframe>\n')),(0,a.kt)("h2",{id:"blueprints"},"Blueprints"),(0,a.kt)("p",null,"If you need more control over your Playground, you can use JSON Blueprints. For example, here's how to create a post and install a plugin:"),(0,a.kt)(l.ZP,{display:'{\n    "steps": [\n        { "step": "login" },\n        {\n            "step": "installPlugin",\n            "pluginZipFile": {\n                "resource": "wordpress.org/plugins",\n                "slug": "friends"\n            }\n        },\n        {\n            "step": "runPHP",\n            "code": `<?php\ninclude \'wordpress/wp-load.php\';\nwp_insert_post(array(\n\'post_title\' => \'Post title\',\n\'post_content\' => \'Post content\',\n\'post_status\' => \'publish\',\n\'post_author\' => 1\n));\n`\n}\n]\n}',blueprint:{steps:[{step:"login"},{step:"installPlugin",pluginZipFile:{resource:"wordpress.org/plugins",slug:"friends"}},{step:"runPHP",code:"<?php\ninclude 'wordpress/wp-load.php';\nwp_insert_post(array(\n'post_title' => 'Post title',\n'post_content' => 'Post content',\n'post_status' => 'publish',\n'post_author' => 1\n));\n"}]},mdxType:"BlueprintExample"}),(0,a.kt)("p",null,"Learn more about ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/blueprints-api/index"},"JSON Blueprints"),"."),(0,a.kt)("h2",{id:"javascript-api"},"JavaScript API"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"@wp-playground/client")," package provides a JavaScript API you can use to fully control your Playground instance. Here's a very example of what you can do:"),(0,a.kt)(i.ZP,{mdxType:"JSApiShortExample"}),(0,a.kt)("p",null,"Learn more about the ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/javascript-api/index"},"JavaScript API"),"."))}h.isMDXComponent=!0},3154:(e,t,n)=>{n.d(t,{ZP:()=>l});var r=n(11),a=(n(2735),n(9530));const o={toc:[]},s="wrapper";function l(e){let{components:t,...n}=e;return(0,a.kt)(s,(0,r.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<iframe\n    id="wp"\n    style="width: 100%; height: 300px; border: 1px solid #000;"\n></iframe>\n<script type="module">\n    // Use unpkg for convenience\n    import { startPlaygroundWeb } from \'https://playground.wordpress.net/client/index.js\';\n\n    const client = await startPlaygroundWeb({\n        iframe: document.getElementById(\'wp\'),\n        remoteUrl: `https://playground.wordpress.net/remote.html`,\n    });\n    // Let\'s wait until Playground is fully loaded\n    await client.isReady();\n<\/script>\n')))}l.isMDXComponent=!0},2620:(e,t,n)=>{n.d(t,{ZP:()=>l});var r=n(11),a=(n(2735),n(9530));const o={toc:[]},s="wrapper";function l(e){let{components:t,...n}=e;return(0,a.kt)(s,(0,r.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This is called ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/query-api"},"Query API")," and you can learn more about it ",(0,a.kt)("a",{parentName:"p",href:"/wordpress-playground/query-api"},"here"),"."))}l.isMDXComponent=!0}}]);